{
  "title": "Вспомогательные методы - aux",
  "text": "Вспомогательные методы контейнера или массива  объявляются в описании приложения в массиве props ---- props: [`name_method`, 'aux'].\r\nВ уже созданном компоненте в объекте props их не будет, они будут доступны в объекте `methods` контейнера или массива.\r\nthis - в методе указывает на компонент (контейнер или массив).  Наследуются по тому-же принципу как и обычные свойства.\r\n\r\nПример использования:\r\n\r\ncontainer:\r\n\r\n```javascript\r\n\tform: {\r\n\t\tcontainer: \"form\",\r\n\t\tprops: [\"input\", \"click\", [\"test_and_send_name\", \"aux\"] ], ///добавили свойство-вспомогательный метод с типом aux\r\n\t\tmethods: {\r\n\t\t\t\r\n\t\t\tclick: function(){\r\n\t\t\t\tevent.preventDefault();\r\n\t\t\t\tvar text = this.parent.props.input.getProp();\r\n\t\t\t\t\r\n\t\t\t\tthis.parent.methods.test_and_send_name(text); // вспомогательные (aux) методы находятся в объекте methods контейнера\r\n\t\t\t\t\r\n\t\t\t\tconsole.log(text);\r\n\t\t\t\t\t\t\t\r\n\t\t\t},\r\n\t\t\ttest_and_send_name: function(name){ // метод может принимать параметры\r\n\t\t\t\t\r\n\t\t\t\t///this в методе указывает на контейнер\r\n\t\t\t\t\r\n\t\t\t\tif(name.length < 2){\r\n\t\t\t\t\talert(\"имя должно быть больше двух символов\");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tthis.rootLink.eventProps[\"emiter-set-name\"].setEventProp(name); // вызвали событие \"emiter-set-name\" из метода\r\n\t\t\t\twindow.localStorage.setItem('user_name', name);\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t}\t\t\r\n\t\t},\t\t\r\n\t},\r\n\r\n```\r\n\r\narray:\r\n\r\n```javascript\r\n\tusers_array: {  \r\n\t\tselector: \"div.row\",\r\n\t\tarrayProps: [ \"message\", \r\n\t\t              [\"send_message\", \"aux\"], //добавили вспомогательный метод\r\n  \t\t              ['listen_set_name', \"emiter-set-name\", \"\"],\r\n \t\t\t\t\t  ['listen_exit_user', \"emiter-exit-user\", \"\"]  \t\t\t\t  \r\n\t\t\t\t\t  ], \r\n\t\tarrayMethods: {\r\n\t\t\t\r\n            send_message: function(type, mess){ //вспомогательный метод принимает два параметра\r\n\t\t\t\t\r\n\t\t\t\tif(type == \"login\"){\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.props.message.setProp(\"новый посетитель - \"+mess); //this в методе массива указывает на массив\r\n\t\t\t\t\t\r\n\t\t\t\t}else if(type == \"logout\"){\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.props.message.setProp(mess+\" - покинул сайт\");\r\n\t\t\t\t\t\r\n\t\t\t\t}\t\t\t\t\r\n\t\t\t},\t\t\t\t\t\r\n\t\t\tlisten_set_name: function(){\r\n\t\t\t\t\r\n\t\t\t\tthis.parent.add( {user_name: this.emiter.getEventProp()} );\r\n\t\t\t\t\r\n\t\t\t\tthis.parent.methods.send_message(\"login\", this.emiter.getEventProp()); //вызвали вспомогательный метод\t\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\tlisten_exit_user: function(){\r\n\t\t\t\t\r\n\t\t\t\tthis.parent.data.forEach(container=>{\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(container.props.user_name.getProp() == this.emiter.getEventProp()){\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tcontainer.remove(true); \r\n\t\t\t\t\t}\t\t\t\t\t\r\n\t\t\t\t});\r\n                 this.parent.methods.send_message(\"logout\", this.emiter.getEventProp()); //вызвали вспомогательный метод\t\t\t\t\r\n\t\t\t},\t\t\t\r\n\t\t},\t\t\r\n\t\tcontainer: \"user\",\r\n\t\tprops: [ \"user_name\", ],\r\n\t\tmethods: {\r\n\t\t},        \t\r\n\t},\t\r\n\r\n```\r\n<a href=\"https://sergeyovechkin.github.io/tests/test-aux-methods/index.html\">Полный код данного теста</a>\r\n"
}