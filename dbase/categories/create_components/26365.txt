{
  "title": "Добавление контейнеров в массив",
  "text": "Далее рассмотрим динамическое создание новых контейнеров page в массиве pages.\r\n Для этого создадим новый компонент - форму `create_page`, в которой будем создавать новые контейнеры:\r\n \r\n ```html\r\n <!-- создали новый компонент create_page -->\r\n<form data-create_page=\"container\" style=\"border: 1px solid blue; padding: 10px; margin: 10px;\">  \r\n\t\t\t\r\n\t<div class=\"form-group\">\r\n\t\t<label for=\"container_text\">текст записи</label>\r\n\t\t\r\n\t\t\t<textarea data-create_page-text=\"inputvalue\"  name=\"container_text\" id=\"container_text\" rows=\"1\"></textarea> \r\n\t\t\t<!-- свойство text с типом данных \"inputvalue\"  -->\r\n\t\t\t\r\n\t\t</div>\r\n\t\t\t\r\n\t\t<button data-create_page-create=\"click\">Создать</button> \r\n\t\t<!-- свойство create с типом данных \"click\"  -->\r\n\t\t\r\n</form>\r\n\t\t\r\n<div data-pages=\"array\" style=\"border: 1px solid red; padding: 10px;\">\r\n\t<!-- массив pages без изменений (см. пример выше ##Создание массива) -->\r\n</div>\r\n\t\t\r\n ```\r\n \r\nТеперь создадим новый компонент - create_page в описании приложения:\r\n\r\n\r\n```javascript\r\n\r\nvar StateMap = {\r\n\t\t\t\t\t\r\n\tcreate_page: { // добавили новый компонент create_page \r\n\t\tcontainer: \"create_page\",  // имя контейнера совпадает с именем компонента, так как сам контейнер является компонентом \r\n\t\tprops: [\"text\", \"create\"], // добавили два свойства \r\n\t\tmethods: {\r\n\t\t\tcreate: function(){ // для свойства- события добавили одноименный обработчик \r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\tevent.preventDefault(); // отменяем перезагрузку страници \r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\tvar text = this.parent.props.text.getProp(); \r\n\t\t\t\t// получаем данные свойства находящегося в том же контейнере\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\tthis.rootLink.state[\"pages\"].add({paragraf: text});  \r\n\t\t\t\t// создаем новый контейнер page в компоненте pages с полученными данными формы\t\t\t\t\r\n\t\t\t}\t\t\t\t\t\t\r\n\t\t}\r\n\t},\r\n\tpages: {\r\n\t\t\t<!-- компонент pages без изменений (см. пример выше ##Создание массива) -->\r\n\t}\r\n}\r\n```\r\n\r\nИтак мы создали компонет create_page для создания новых страниц page c помощью метода массива `.add()`."
}