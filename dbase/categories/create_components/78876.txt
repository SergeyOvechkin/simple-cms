{
  "title": "Прослушивание пользовательских событий из свойств массива",
  "text": "Итак давайте разберем отличие свойств контейнера от свойств массива.\r\nНапример у нас есть массив `menu` со свойствами `class_menu` и `listener_load_page` в котором расположены с конейнеры `item` со свойствами `class_item` и `text_item`:\r\n\r\n```html\r\n\r\n\t\t<div data-menu=\"array\" data-menu-class_menu=\"class\"  data-menu-listener_load_page=\"emiter-load-page\">\r\n\t\t\r\n\t\t\t<div data-item=\"container\" data-item-class_item=\"class\">\r\n\t\t\t  <a data-item-text_item=\"text\"> текст 1 </a>\r\n\t\t\t</div>\r\n\t\t\t\r\n\t\t\t<div data-item=\"container\" data-item-class_item=\"class\">\r\n\t\t\t  <a data-item-text_item=\"text\"> текст 2 </a>\r\n\t\t\t</div>\r\n\t\t\t\r\n\t   </div>\t\t\r\n\r\n```\r\n\r\nВ описании приложения:\r\n\r\n```javascript\r\n  var State ={\t\r\n\t\tmenu: {\r\n\t\t\t\r\n\t\t\tarrayProps: [ \"class_menu\", \"listener_load_page\" ], //свойства массива\r\n\t\t\tarrayMethods: { \r\n\t\t\t\t\r\n\t\t\t\t\tlistener_load_page: function() { //обработчик события для свойства массива\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tthis.parent.add( this.emiter.getEventProp() ); \r\n\t\t\t\t\t\t\t//this.parent указывает на массив\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tcontainer: \"item\", //название контейнера\t\t\t\t\r\n\t\t         props: [ \"class_item\",  \"text_item\"], // свойства контейнера\r\n\t\t\tmethods: {\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t},\r\n\t\teventEmiters: {  \r\n\t\t\t\t\t\r\n\t\t\t\t[\"emiter-load-page\"]: { //пользовательское событие с начальными данными\r\n\t\t\t\t\t\t\t\r\n\t\t\t\tprop: \"\",\r\n\t\t\t}\r\n\t\t}\r\n\t\t\t\r\n\t\r\n\t}\r\n\t\r\nwindow.onload = function(){\r\n\r\n\tvar HM = new HTMLixState(State); \r\n\t\r\n\twindow.setTimeout( function(){ \r\n\t\r\n\t\tHM.eventProps[\"emiter-load-page\"].setEventProp( {text_item: \"новый текст\"} ); //вызвали событие через 3 секунды после создания экземпляра приложения и передали в него данные для нового контейнера.\r\n\t\tconsole.log(HM);\r\n\t\t\t\t\t\t\t\r\n\t}, 3000 );\r\n\t\t\t\r\n}\t\r\n```\r\n\r\nКак видно из примера выше свойство `class_menu` и `listener_load_page`  является свойствами массива (arrayProps - в описании приложения), а свойства `class_item` и `text_item` - свойствами контейнера item (props - в описании приложения).\r\n\r\nВ созданном экземпляре приложения вызов this.parent в свойстве контейнера указывает на контейнер, а вызов this.parent в массиве - на массив в котором оно расположено.\r\n\r\nВажно правильно размещать свойства - слушателей пользовательских событий, т.к. при размещении его в контейнере, оно вызывается на каждом контейнере, а при размещении в массиве, вызывается только один раз для массива.  Поэтому добавлять контейнеры в массив лучше из свойства массива, как в примере выше.\r\n"
}